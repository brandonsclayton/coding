<style>
  html, body
  {   
    margin:0;
    padding:0;
    width:100%;
    height:100%; 
    font-family: 'Roboto', sans-serif;
  }
  
  #b1{margin:2em}
  #graph{width:80%;min-height:50%;}

</style>

<html>

	<head>
 		<!-- Google Material Design -->
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  	<script defer src="https://code.getmdl.io/1.1.3/material.min.js"></script> 
  	<script src="https://storage.googleapis.com/code.getmdl.io/1.0.1/material.min.js"></script>
  	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"> 
  	<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
  	<!-- ............................ -->
	  
    <script src="https://www.google.com/jsapi"></script>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>   <!-- Google Charts -->

  	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css"> 
  

	</head>

<body>
  

  <!-- .................... Graph .................. -->
<label id="check" class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" >
  <input type="checkbox" class="mdl-checkbox__input"  checked/>
    <span class="mdl-checkbox__label">Check Me</span>
</label>
  
  <div class="mdl-grid mdl-shadow--2dp" id="graph">
    <div class="mdl-spinner mdl-js-spinner is-active"></div>
  </div>
  <p id="test">Getting</p>
  <!-- .................. End Graph .................. -->
  


</body>
</html>
  
  
<script type="text/javascript">

var test_id = document.getElementById('test');
$("#check").click(function() {check_box()});

function check_box()
{
	if($('#check').is('.is-checked')) 
	{
    //document.querySelector('#check').MaterialCheckbox.uncheck();
    test_id.innerHTML = 'Not checked'; 
  }
  else 
  {
    test_id.innerHTML = 'Checked'; 
  	//document.querySelector('#check').MaterialCheckbox.check();
  }
}

msg_history('start');
  
function msg_history(state)
{
  
  google.charts.load('current', {'packages':['corechart','line']});
  var col;	
  google.charts.setOnLoadCallback(function()
  {
    var options = 
    {
      vAxis: 
      {
        title: 'Temperature (\u2109)',
        minValue:0, 
        maxValue:100,
        format: 'decimal',
        titleTextStyle: {italic: 'false',fontSize: 20, opacity: .75},
        textStyle: {italic: 'false',fontSize: 14, opacity: .6}
      },
      hAxis: 
      {
        title: 'Time (minutes)',
        format: 'decimal',
        titleTextStyle: {italic: 'false',fontSize: 20, opacity: .75},
        textStyle: {italic: 'false',fontSize: 14, opacity: .6}
      },
      curveType: 'function',
      legend: {position: 'bottom', textStyle: {fontSize: 15, opacity: .75}},
			backgroundColor: {strokeWidth: 2},
      chartArea:{top:10,width:'80%',height:'80%'},
      lineWidth: 3,
      animation: 
      {
        duration: 500,
        easing: 'in'
      },
      series:
      {
        0:{pointSize:0},
        1:{pointSize:0}
      }
    };

    if (state == 'start')
    {
      var chart = new google.visualization.LineChart(document.getElementById('graph'));
      //var chart = new google.charts.Line(document.getElementById('graph'));
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Time');
      data.addColumn('number', 'Living Room Temperature');
      data.addColumn('number', 'Bedroom Temperature');
      var time          = ['1','2','3','4','5','6','7','8','9'];
      var living_temp   = [10.5,17.1,20.5,50.5,58.1,30.5,15.5,11.1,50.5];
      var bedroom_temp  = [12.5,19.1,22.5,55.5,60.1,32.5,18.5,13.1,55.5];

      nr = living_temp.length;
      data.addRows(nr);

      for (jr=0;jr<nr;jr++)
      {
        data.setCell(jr,0,time[jr]);
        data.setCell(jr,1,living_temp[jr]);
        data.setCell(jr,2,bedroom_temp[jr]);
      }
    }
  
    function drawChart() 
    {
      chart.draw(data, options);
      //document.getElementById('test').innerHTML = JSON.stringify(options) + '<br>' + col;
    }
    
    var check = document.getElementById('check');
    
    check.onclick = function () {set_graph();};
    
    function set_graph()
    {
	    if($('#check').is('.is-checked')) 
      {
        var ncol = data.getNumberOfColumns()-1;
        data.removeColumn(ncol);
      }
      else
      {
        var nr = bedroom_temp.length;
        data.addColumn('number', 'Bedroom Temperature');
        var ncol = data.getNumberOfColumns()-1;
        for (jr=0;jr<nr;jr++)
        {
          data.setCell(jr,ncol,bedroom_temp[jr]);
        }
      }
        document.getElementById('test').innerHTML = ncol;
      drawChart();
    };

    
    
    function myClickHandler(e)
    {
      //var selection = chart.getSelection();
      //var message = '';
      var selection = e.targetID.split('#');
      var id = selection[0];
      if (selection.length > 1){var col = selection[1];}
      
      if (id == 'legendentry') 
      {
        options.series = JSON.parse('{"'+col+'":{"pointSize":4}}');
      }
      else  
      {
        options.series = {0:{pointSize:0},1:{pointSize:0}}; 
        drawChart();
      }
      drawChart();
    
    } 

    google.visualization.events.addListener(chart, 'click', myClickHandler);
    
    
    drawChart();
  
 	  $(window).resize(function()
    {
      drawChart();
	  }); 
  
	});

}


</script>


